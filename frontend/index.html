<!doctype html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preload" as="image" href="/images/studio-hero.jpg" fetchpriority="high" />
    <link rel="dns-prefetch" href="https://pixel.barion.com" />
    
    <!-- SEO Meta Tags (Base - will be overridden by SEOHead component) -->
    <meta name="description" content="Professzionális stúdió bérlés Budapest 11. kerület. 3 design fotóstúdió 260 m²-en. Portré, divat, termék fotózás. Foglalj online!" />
    <meta name="keywords" content="stúdió bérlés budapest, fotóstúdió bérlés, stúdió kiadó, photography studio rental, 11 kerület" />
    <meta name="author" content="Atelier Archilles" />
    <link rel="canonical" href="https://www.atelier-archilles.hu/" />

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/fav/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/fav/favicon.svg" />
    <link rel="icon" type="image/png" sizes="96x96" href="/fav/favicon-96x96.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/fav/apple-touch-icon.png" />
    <link rel="manifest" href="/fav/site.webmanifest" />

    <title>Stúdió Bérlés Budapest | Atelier Archilles Fotóstúdió</title>
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX', {
        'anonymize_ip': true,
        'cookie_flags': 'SameSite=None;Secure'
      });
    </script>

    <!-- Barion Pixel (Vite-friendly, correct boot order) -->
    <!-- <script>
      (function (w, d) {
        // Skip in local dev
        if (w.location.hostname === 'localhost' || w.location.hostname === '127.0.0.1') return;

        // Vite will replace this at build time
        var pixelId = '%VITE_BARION_PIXEL_ID%';
        if (!pixelId || pixelId.startsWith('%')) {
          console.warn('Barion Pixel: Missing VITE_BARION_PIXEL_ID.');
          return;
        }

        // 1) Expose pixel ID BEFORE loading bp.js
        w.barion_pixel_id = pixelId;

        // 2) Predefine the queue function that bp.js expects
        //    (so load_tracker can access window.bp.q safely)
        w.bp = w.bp || function () { (w.bp.q = w.bp.q || []).push(arguments); };
        w.bp.q = w.bp.q || [];
        // (optional) be explicit which function name to use
        w.barionpixel_function = 'bp';

        // 3) Load Barion script
        var s = d.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'https://pixel.barion.com/bp.js';
        var first = d.getElementsByTagName('script')[0];
        first.parentNode.insertBefore(s, first);
      })(window, document);
    </script> -->
    <!-- Barion Pixel - Deferred to not block page load -->
    <script defer>
        // Skip Barion in local development
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
          // Create BP element on the window
          window["bp"] = window["bp"] || function () {
              (window["bp"].q = window["bp"].q || []).push(arguments);
          };
          window["bp"].l = 1 * new Date();

          // Insert a script tag on the top of the head to load bp.js
          var scriptElement = document.createElement("script");
          var firstScript = document.getElementsByTagName("script")[0];
          scriptElement.async = true;
          scriptElement.src = 'https://pixel.barion.com/bp.js';
          firstScript.parentNode.insertBefore(scriptElement, firstScript);
          window['barion_pixel_id'] = 'BP-qlDXPMh1fn-83';            

          // Send init event
          bp('init', 'addBarionPixelId', window['barion_pixel_id']);
        }
    </script>
  </head>

  <body>
    <!-- NoScript fallback must be inside <body> -->
    <!-- <noscript>
      <img
        height="1"
        width="1"
        style="display:none"
        src="https://pixel.barion.com/a.gif?pixelId=%VITE_BARION_PIXEL_ID%"
        alt="Barion Pixel"
      />
    </noscript> -->

    <noscript>
      <img height="1" width="1" style="display:none" alt="Barion Pixel" src="https://pixel.barion.com/a.gif?ba_pixel_id='BP-qlDXPMh1fn-83'&ev=contentView&noscript=1">
    </noscript>

    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>